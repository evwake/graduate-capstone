SANTA CLARA, Calif. --  Matt Ryan outshined his former offensive coordinator in an MVP-type fashion Kyle Shanahan knows oh so well.
Yet even this rally might have been more improbable than either could have imagined -- two Falcons touchdowns in the final 5 seconds. A pair of replay reversals in the last 8 ticks of the clock, including Austin Hooper's apparent TD reception being ruled no good.
Ryan connected with Julio Jones on a 5-yard pass that did get ruled a touchdown after a replay reversal went Atlanta's way with 2 seconds left, sending the Falcons past the playoff-bound San Francisco 49ers 29-22 on Sunday.
“That was awesome. At the end, game on the line, those are the moments as a coach that you totally live for,” Atlanta's Dan Quinn said. “It makes you feel most alive."
This Falcons upset forces the 49ers to win out if they want to hold onto the NFC's No. 1 seed.
Jones initially was called short of the goal line with the Falcons trailing 22-17. But a replay showed the ball breaking the plane as the Atlanta receiver leaped in the air while being tackled by Jimmie Ward.
“When you’re down that tight in the red zone, there are going to be tight window throws. It was a great effort," Ryan said. The call didn’t go our way. At that point, you have to have the mindset of just getting right back to it and finding a way to get the job done the following play.”
When things couldn't get crazier, they did: On the final kickoff, Atlanta scored another touchdown when Olamide Zaccheaus came up with the ball as the 49ers were tossing it around in desperation.
The 49ers still clinched their first playoff berth since a 2013 run to the NFC championship game with the Rams' loss at Dallas.
“All we can do is win these next two games," Shanahan said. “When you get to this point in the year with where we’re at and what we’ve done, we’re encouraged by one thing right now, and that’s winning. That’s how it’s going to be the rest of the year.”
In an afternoon when Jimmy Garoppolo and the offense hardly shined, San Francisco's other units did their best to hold off Ryan until the quarterback exhibited the poise of a former MVP in a dramatic final minute -- or, make that 12 seconds.
Kyle Juszczyk recovered a fumble on the punt return team early in the fourth quarter then caught a 2-yard touchdown pass from Garoppolo two plays later as the 49ers (11-3) briefly gave themselves some room before failing to close it out.
Fill-in safety Marcell Harris broke up a pass in the end zone intended for Hooper in the waning moments. Then with 8 seconds remaining, Hooper couldn't keep hold of the ball in the end zone though the Falcons were already celebrating an upset when the play went to a review and the catch overturned because the ball hit the ground.
They got one more chance, and made it count. Then Atlanta celebrated for real, leaving San Francisco's players stunned.
Al Riveron, the NFL's senior vice president of officiating, said because Hooper's apparent catch got called a touchdown it automatically came to New York for another look.
“The ball actually takes him to the ground. This is the one remaining situation where you have two steps, but if you don’t have a football move, you’re going to the ground, you must survive the ground," Riveron told a pool reporter. “In this situation, he takes the ball, it hits the ground and then he loses control of the football when he comes back up. Therefore, it’s an incomplete pass.”
Before Juszczyk's timely pounce, it appeared there was no way Ryan would get the best of Shanahan and San Francisco just a week after the Niners put up 48 points in New Orleans.
The Falcons (5-9) got within 19-17 on Qadree Ollison's 1-yard touchdown run early in the fourth.
Facing his former team and now in his third year as 49ers coach, Shanahan's high-powered offense fizzled much of the day.
Shanahan spent two seasons as offensive coordinator in Atlanta coaching Ryan during his 2016 MVP year when the Falcons set a franchise record by scoring 540 points and Ryan had career bests in yards passing (4,944), TD passes (38) and passer rating (117.1). Then the Falcons blew a 28-3 lead on New England in the Super Bowl and Shanahan left for the Bay Area shortly after.
Out West, Shanahan and Garoppolo hope for their own special playoff run with a different result at the end.
Ryan threw a 5-yard touchdown pass to Jones midway through the second quarter and the Falcons led 10-7 on Younghoe Koo's 43-yard field goal late in the quarter before the Niners tied it with a 22-yard field goal by Robbie Gould.
SECONDARY STEPS UP
The 49ers made plays on defense despite their depleted secondary that was missing cornerback Richard Sherman, safety Jaquiski Tarrt and slot cornerback K'Waun Williams.
Harris, in for Tartt, made the big breakup late and also batted away a third-down pass by Ryan on Atlanta's opening series then Dre Greenlaw had a deflection as the Falcons punted again their next chance.
“I thought our defense played great all day. They gave us an opportunity offensively. Special teams got the turnover, but yeah, you give a good quarterback like that much time, it’s tough," Garoppolo said of Ryan.
FUMBLE FOR NOTHING
In the closing minute of the third, Grady Jarrett forced a fumble by 49ers running back Matt Breida and recovered at the Falcons 34 but Atlanta couldn't make good on it.
INJURIES
Falcons: DE Takk McKinley went down with a shoulder injury near the 49ers sideline at the 8:28 mark of the opening quarter and didn't return. Atlanta then lost linebacker Foyesade Oluokun to a shoulder injury in the second half.
UP NEXT
Falcons: Host Jacksonville on Sunday.
49ers: Host Los Angeles Rams on Saturday night.
---
More AP NFL: https://apnews.com/NFL and https://twitter.com/AP-NFL